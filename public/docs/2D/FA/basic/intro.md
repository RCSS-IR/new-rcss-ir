# مقدمه‌ای بر شبیه‌سازی دوبعدی فوتبال

<div id="61821137282"><script type="text/JavaScript" src="https://www.aparat.com/embed/RwxX5?data[rnddiv]=61821137282&data[responsive]=yes"></script></div>

> نادر زارع - مقدمه‌ای بر شبیه‌ساز دوبعدی

برای شروع آموزش‌های شبیه‌سازی دوبعدی فوتبال دانستن اطلاعاتی کلی از این پلتفرم ضروری می‌باشد. لذا در این صفحه و همینطور ویدیو‌ی بالا، قصد داریم اطلاعاتی ضروری و پایه‌ای را با شما به اشتراک بگذاریم.

## ویژگی‌ها

همانطور که پیش‌تر گفته شد شبیه‌سازی فوتبال دوبعدی، فضاییست شبیه‌سازی شده از فوتبال واقعی که محدود به دو بعد (x و y) است. این محیط شبیه‌سازی، یکی از پلتفورم‌های مسابقاتی[ مسابقات روبوکاپ](https://www.robocup.org) است که هر ساله در ایران و جهان برگزار می‌شود. در این فضا هر تیم دارای ۱۱ بازیکن و یک مربی است. بازیکنان جداگانه به سرور اصلی بازی وصل شده و دستورات را برای سرور می‌فرستند.

این بازی در حالت استاندارد، در ۶۰۰۰ سیکل یک دهم ثانیه‌ای برگزار می‌گردد. بازیکنان و مربی ملزم به ارسال دستورات خود در زمان بین دو سیکل هستند. در صورت حذفی بودن بازی پس از تساوی در وقت اصلی ۲ نیمه ۱۰۰۰ سایکلی نیز برگزار می‌گردد و  در صورت تساوی ضربات پنالتی نتیجه‌ی بازی را مشخص می‌کنند.

همانند فوتبال واقعی در این محیط نیز کارت زرد و قرمز موجود است که با توجه به قوانین بازی توسط داور به آنها داده می‌شود.

### بازیکنان

در شروع بازی به هر دو تیم تعدادی بازیکن یکسان با ویژگی‌های تصادفی داده می‌شود. در هر تیم، مربی، تصمیم می‌گیرد که چه بازیکنی در چه پستی داخل زمین باشد. هر بازیکن در این محیط **برنامه‌ای مستقل از بازیکنان دیگر** است (ویژگی چند عامله بودن محیط). در نتیجه هر بازیکن باید برای خود فکر کرده و بهترین تصمیم را با توجه به استراتژی تیمی بگیرد. این بازیکنان توانایی‌های زیر را دارا می‌باشند:

- حرکت به هر سمت
- تغییر زاویه بدن
- توانایی ضربه‌زدن به توپ
- تکل زدن
- مشاهده‌بازیکنان دیگر و توپ
- تغییر شعاع گردن
- اشاره کردن
- صحبت کردن و شنیدن
- گرفتن توپ(مخصوص دروازه بان)

### ارتباط

بازیکنان در این محیط به دو روش می‌توانند اطلاعات را به هم‌تیمی خود یا بازیکنان دیگر برسانند. روش اول اشاره به نقطه‌ی خاصی از زمین (Point To) و روش دوم ارسال و دریافت پیام‌هایی با طول محدود (۱۶بایت) است (Say & Hear).هر بازیکنان در **هر سیکل** تنها می‌تواند یک پیام ارسال کند. تعداد و طول پیام‌های مربی نیز محدود است (۱۲۸بایت و ۱۲۸ پیام، هر سیکل یک پیام). البته توجه داشته باشید که مربی زمانی که بازی متوقف است می‌تواند تعداد نامحدودی پیام به بازیکنان خود بدهد.

### مکان‌یابی و درک محیط

بازیکنان در این پلتفورم دارای دید هستند و در هر سیکل مقدار محدودی از زمین را می‌بینند. زاویه این دید توسط زاویه‌ی گردن مشخص می‌شود و بازیکن نیز می‌تواند شعاع آن را مشخص کند. دید هر بازیکن شامل سه محدوده‌ است.در محدوده اول بازیکن تمام اطلاعات را با دقت خوبی دارد در محدوده دوم بازیکن تنها شماره بازیکن را در آن محدوده میداند و در محدوده سوم تنها متوجه حضور بازیکنی در آن محل می‌شود.

بازیکن مکان خود را نیر می‌تواند از فاصله تقریبی با پرچم (Flag)‌های مکان‌یابی دور زمین بدست بیاورد. لازم به ذکر است که این فاصله‌ها نیز حتی دارای نویز می‌باشند.

زمین در این پلتفرم از دو راستای X و Y تشکیل شد است. محور عمودی مولفه‌ی Y زمین بوده که از ۳۴- الی ۳۴+ می‌باشد و محور افقی مولفه‌ی X زمین بوده که بین ۵۲.۵- الی ۵۲.۵+ می‌باشد.

<note type="warning" label=""> 
**تمامی** اعداد گفته شده در این آموزش از طریق فایل تنظیمات سرور **قابل تغییر است**. لذا توصیه می‌شود در نوشتن کد از خروجی فایل تنظیمات به جای اعداد ثابت استفاده گردد تا در صورت تغییر مقادیر، مشکلی در عملکرد کد به وجود نیاید.
</note>
در شبیه ساز دوبعدی فوتبال همیشه مولفه X در سمت دروازه تیم خودی برابر ۵۲.۵- و مولفه Y بالای زمین ۳۴+ می‌باشد. این کار توسط خروجی خود سرور به کلاینت ها انجام می گردد و نیازی به تبدیل مختصات برای کار کردن کد در دو سمت زمین نمی باشد.

در این پلتفرم تلاش شده تا شبیه سازی ها تا حد امکان به واقعیت نزدیک باشند؛ لذا حرکت تمامی اجسام داخل زمین ( بازیکن ها و توپ ) دارای شتاب بوده و تغییر جهت حرکت از طریق تغییر سرعت اعمال می‌شوند.

همچنین زمین شبیه‌سازی دوبعدی فوتبال نیز دارای اصطکاک بوده که این مقدار برای توپ و بازکنان متفاوت است. مقدار دقیق این پارامتر‌ها نیز مجددا از طریق فایل تنظیمات سرور قابل دسترسی است.

### چالش‌ها

#### نویز

 از چالش‌های مهم دیگر این محیط، **نویز** است. هر بازیکن حتی در تشخیص مکان دقیق خود نیز با نویز مواجه است و خروجی تمامی اعمال (Actionها) بازیکن نیز با مقداری نویز همراه است. به این معنی که در انجام اکثر اعمال احتمالی وجود دارد که آن عمل به شکل اشتباهی انجام بپذیرد.

#### دید محدود

همانطور که گفته شد دید بازیکنان در این بازی محدود است. درنتیجه هر سیکل تنها توانایی دیدن بخشی از زمین را دارد به همین دلیل مکان‌یابی دیگر بازیکنان به دلیل وجود این دید محدود با چالش‌های بسیاری همراه است.

#### مدیریت انرژی

بازیکنان برای سریع تر حرکت کردن نیاز به انرژی بیشتری دارند که البته مقدار آن انرژی محدود است. پس مدیریت این انرژی برای بازیکن چالشی مهم محسوب می‌شود.

#### مکان‌یابی خود و دیگران

بازیکنان در زمین برای پیدا کردن مکان فعلی خود نیازمند اجرای الگوریتم‌های مختلفی هستند تا پرچم‌هایی را پیدا کنند که عدد فاصله از آن‌ها نویز کمتری دارد (همانند مکان‌یابی به کمک GPS). 

و چالش‌های دیگر که هر یک شاید بخشی به پیچیدگی این فضا اضافه کند. البته باید توجه داشت که تیم‌های پایه اکثر این چالش‌ها را تا حدودی حل کرده‌اند و فضا را برای پیدا کردن روش‌های نوین و بهینه در این فضا باز تر کرده‌اند.

با توجه به شرایط کلی این شبیه‌سازی می توان آن را در دسته ی سخت‌ترین مسايل هوش مصنوعی قرار داد. زیرا که این پلتفرم به صورت Dynamic, Stochastic, competitive, paritially observable, Continuous (در مکان و نه در زمان) می باشد. این گسترده بودن چالش‌های محیط شبیه‌سازی شده باعث می‌شود که هر فردی با هر توانایی‌ بتواند 

قسمتی را برای آزمودن دانسته‌های خود و مشاهده‌ی پیاده‌سازی الگوریتم‌های مختلف در فضای شبیه‌سازی شده پیدا کند. توجه داشته باشید که برای پیاده‌سازی و تست اکثر الگوریتم‌های مورد نظر نیازی به نوشتن کد تیم از ابتدا نیست و می‌توانیم از تیم‌های پایه‌ای که افراد دیگر آماده کرده‌اند استفاده کنیم.